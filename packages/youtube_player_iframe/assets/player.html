<!DOCTYPE html>
<html>
  <head>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <style type="text/css">
      body {
        margin: 0;
        width: 100%;
        height: 100%;
        background-color: black;
      }
      html {
        width: 100%;
        height: 100%;
        background-color: black;
      }

      .embed-container iframe,
      .embed-container object,
      .embed-container embed {
        position: absolute;
        top: 0;
        left: 0;
        width: 100% !important;
        height: 100% !important;
      }
    </style>
  </head>

  <body>
    <div class="embed-container">
      <div id="player"></div>
    </div>

    <script>
      var tag = document.createElement("script");
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName("script")[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player("player", {
          playerVars: <<playerVars>>,
          events: {
            onReady: function (event) {
              sendMessage('Ready', event);
            },
            onStateChange: function (event) {
              sendMessage('StateChange', event.data);
            },
            onPlaybackQualityChange: function (event) {
              sendMessage('PlaybackQualityChange', event.data);
            },
            onPlaybackRateChange: function (event) {
              sendMessage('PlaybackRateChange', event.data);
            },
            onApiChange: function (event) {
              sendMessage('ApiChange', event.data);
            },
            onError: function (event) {
              sendMessage('PlayerError', event.data);
            },
          },
        });
        player.setSize(window.innerWidth, window.innerHeight);
      }

      window.addEventListener('message', (event) => {
        try { eval(event.data) } catch (e) {}
      }, false);

      window.onresize = function () {
        player.setSize(window.innerWidth, window.innerHeight);
      };

      function sendMessage(key, data) {
         var message = {}
         message[key] = data
         window.parent.postMessage(JSON.stringify(message) , '*');
      }
    </script>
  </body>
</html>
